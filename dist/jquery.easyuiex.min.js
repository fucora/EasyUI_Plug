/*! jquery.easyuiex 2019-05-06 */

function GetFieldOpts(t){var e=t.attr("data-opts"),a=t.attr("data-options"),i=t.attr("valname")||t.attr("textfield"),s={valname:i,textfield:i};return e&&(s=$.extend(s,e.GetInstance())),a&&(s=$.extend(s,a.GetInstance())),s}function _getEditors(t){var o=[],e=$(t).find("[class*=editlabel-]");return $(e).each(function(t,e){var a=$(e).attr("valname"),i=$(e).next();(!i||i.length<1)&&(i=$(e));var s=i&&0<i.length?i:$(e),n=s.attr("valname");s&&0<s.length&&a===n&&o.push(s[0])}),o}function _getEditClass(t,e){e=e||"editlabel-";var a=$(t).attr("class");-1<a.indexOf("easyui-validatebox")&&(a=a.replace(/easyui-validatebox/,""));var i=(a=a.substring(a.indexOf(e)+e.length,a.length)).indexOf(" ");return a=-1<i?a.substring(0,i):a}function appendCheckboxOrRadio(o,r,l,t,d,e){t&&(l.formatval&&(d=l.formatval.call(this,d,e,l)),$(t).each(function(t,e){var a="";d?"checkbox"==r&&("string"==typeof d?-1<d.indexOf(e.id):e.id==d)?a='checked="checked"':"radio"==r&&d&&e.id==d&&(a='checked="checked"'):"checked"!=e.checked&&1!=e.checked||(a='checked="checked"'),l.disabled?a+=' disabled="true"':e.disabled&&(a+=' disabled="true"');var i=$('<div class=" '+(l.class?l.class:"")+'"  style="'+(l.style?l.style:"")+'"></div>');l.horizontal&&i.addClass("el-inline");var s=$('<input type="'+r+'" name="'+l.textfield+'" '+a+"/>");s.val(e.id),s.data("checkorradiodata",e.id);var n=$('<span style="padding-left:4px;padding-right:4px;margin-right:5px">'+e.text+"</span>");i.append(s),i.append(n),o.append(i),l.disabled||e.disabled}))}function messageralert(t,e,a){e.alertpagejquery.messager.alert("提示信息",t.invalidMessage||t.missingMessage,"info",a)}$.fn.datebox.defaults.cleanText="清空",function(e){var t=e.extend([],e.fn.datebox.defaults.buttons);t.splice(1,0,{text:function(t){return e(t).datebox("options").cleanText},handler:function(t){e(t).datebox("setValue",""),e(t).datebox("hidePanel")}}),e.extend(e.fn.datebox.defaults,{buttons:t})}(jQuery),function(r){Array.prototype.GetTextById=function(a){var i="";return r(this).each(function(t,e){e.id!==parseInt(a)||(i=e.text)}),i},String.prototype.GetInstance=function(t){var e=null,a=this;if(a){"{"!==a.substring(0,1)&&(a="{"+a+"}");try{e=new Function("return "+a)()}catch(t){console.info("转对象报错了："+a)}}return e},String.prototype.GetInstanceEx=function(t){var e=this;e=e.split(",")[0];var a={},o=t,i=e.lastIndexOf(".");if(0<i){var s=e.substr(0,i);if(void 0===a[s]){var n=e.split(".");n.splice(-1),r.each(n,function(t,e){if(null==o)return!1;var a=e,i=e.indexOf("[");if(0<i&&"]"==e[e.length-1]){if(a=e.substr(0,i),null==(o=o[a]))return!1;var s=e.substr(i+1,e.length-i-2);if(r.isNumeric(s))o=o[s];else{expStrArr=s.split("=");var n=null;if(r.each(o,function(t,e){if(e[expStrArr[0]]==expStrArr[1])return n=e,!1}),!(o=n))return!1}}else o=o[a]}),a[n.join(".")]=o}o=a[s]}return(o||{})[0<i?e.substr(i+1):e]},Date.prototype.Format=function(t){var e=null;if(!this)return"";t||(t="yyyy-MM-dd");try{if("string"==typeof this){var a=this.replace("T"," ").replace(/\-/g,"/").replace(/\.\d+/g,"");if("0001/01/01 00:00:00"===a)return"";e=new Date(a)}else e=this;if(1==e.getFullYear())return""}catch(t){return""}var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"/u661f/u671f":"/u5468":"")+{0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"}[e.getDay()+""])),i)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[s]:("00"+i[s]).substr((""+i[s]).length)));return t}}(jQuery),$.fn.bindViewValByAtr=function(n,o,r,l){$(this).find("*["+o+"]").each(function(){var t=$(this),e=t.attr(l),a=t.attr(o).GetInstanceEx(n);if(!t.is("select")&&!t.is(".combobox-f")&&r&&t.attr(l)){var i=e.GetInstanceEx(r);i&&0<i.length&&(a=i.GetTextById(a)||a)}if(null!=a&&void 0!==a&&"0001-1-1"!=a)if(t.is(".combobox-f")){var s=t.combobox("options");t.combobox(s.multiple?"setValues":"select",a)}else t.is(".datebox-f")?"1901-01-01T00:00:00"==a||"0001-01-01T00:00:00"==a?t.datebox("setValue",""):t.datebox("setValue",a):t.is(".textbox-f")?t.textbox("setValue",a):t.is("select")?(t.find("option:contains('"+a+"')").attr("selected",!0),t.find("option[value='"+a+"']").attr("selected",!0)):t.is(":input")?t.val(a):t.text(a)})},$.fn.bindOptionDataByName=function(i,s){s=s||"name",$(this).find("*["+s+"]").each(function(){var a=$(this),t=a.attr(s).GetInstanceEx(i);if(null!=t&&void 0!==t&&"0001-1-1"!=t)if(a.is(".combobox-f")){var e=a.combobox("options");e.firstoption&&(t=$.merge([e.firstoption],t)),a.combobox({valueField:"id",textField:"text",data:t})}else $(t).each(function(t,e){a.append('<option value="'+e.id+'">'+e.text+"</option>")})})},$.fn.bindViewDataByName=function(s,n){n=n||"name";$(this).find("*["+n+"]").each(function(){var t=$(this),e=t.attr(n),a=e.GetInstanceEx(s);if(null!=(a=(tmpData||{})[0<dotIdx?e.substr(dotIdx+1):e])&&void 0!==a&&"0001-1-1"!=a)if(t.is(".combobox-f")){var i=t.combobox("options");t.combobox(i.multiple?"setValues":"select",a)}else t.is(".datebox-f")?t.datebox("setValue",a):t.is(".textbox-f")?t.textbox("setValue",a):t.is("select")?t.find("option[value='"+a+"']").attr("selected",!0):t.is(":input")?t.val(a):t.text(a)}),$(this).data("formdata",s)},function(r){function s(t){var e=t.opts.data._Items||t.opts.data,a=t.opts;appendCheckboxOrRadio(t,"checkbox",a,e,a.value),t.opts.onLoadSuccess&&t.opts.onLoadSuccess.call(this,e,t,t.opts.editable)}r.fn.checkbox=function(e,t){if("string"==typeof e){var a=r.fn.checkbox.methods[e];if(a)return a(this,t)}e=e||{};var i=this;return i.opts=r.extend({},r.fn.checkbox.defaults,e),this.each(function(){r.data(this,"checkbox");r.ajaxSettings.async=!1,i.opts.url&&r.getJSON(i.opts.url,function(t){e.data=i.opts.data=t}),r.ajaxSettings.async=!0,r.data(this,"checkbox",{options:r.extend({},r.fn.checkbox.defaults,r.fn.checkbox.parseOptions(this),e),initobj:s(i)})})},r.fn.checkbox.methods={options:function(t){return r.data(t[0],"checkbox").options},getValue:function(t){var i=r.data(t[0],"checkbox").options,s=i.retIsArr?[]:"",n=i.space||",",o=r(t[0]).find("input:checkbox:checked");return r.each(o,function(t,e){if(i.retIsArr){var a=r(this).data("checkorradiodata");s.push(a||r(this).val())}else s+=r(this).val()+(o.length==t+1?"":n)}),s},reload:function(t,e){var a=r.data(t[0],"checkbox").options;return a=r.extend(a,e),t.opts=a,t.each(function(){r.data(this,"checkbox",{options:a,initobj:s(t)})})}},r.fn.checkbox.parseOptions=function(t){return r.extend({},r.parser.parseOptions(t,[]))},r.fn.checkbox.defaults={url:null,data:{}}}(jQuery),$(function(){$(".easyui-checkbox").each(function(){var t={},e=$.trim($(this).attr("data-options"));if(e){"{"!==e.substring(0,1)&&(e="{"+e+"}");try{t=new Function("return "+e)()}catch(t){console.info("easyui-checkbox对象报错了："+e)}$(this).checkbox(t)}})}),function(s){function n(t){var e=t.opts.data._Items||t.opts.data,a=t.opts;appendCheckboxOrRadio(t,"radio",a,e,a.value),t.opts.onLoadSuccess&&t.opts.onLoadSuccess.call(this,e,t,t.opts.editable)}s.fn.radio=function(e,t){if("string"==typeof e){var a=s.fn.radio.methods[e];if(a)return a(this,t)}e=e||{};var i=this;return i.opts=s.extend({},s.fn.radio.defaults,e),this.each(function(){s.data(this,"radio");s.ajaxSettings.async=!1,i.opts.url&&s.getJSON(i.opts.url,function(t){e.data=i.opts.data=t}),s.ajaxSettings.async=!0,s.data(this,"radio",{options:s.extend({},s.fn.radio.defaults,s.fn.radio.parseOptions(this),e),initobj:n(i)})})},s.fn.radio.methods={options:function(t){return s.data(t[0],"radio").options},getValue:function(t){var e=s.data(t[0],"checkbox").options;return s(editor).find("input[name="+e.textfield+"]:checked").val()},reload:function(t,e){var a=s.data(t[0],"radio").options;return a=s.extend(a,e),t.opts=a,t.each(function(){s.data(this,"radio",{options:a,initobj:n(t)})})}},s.fn.radio.parseOptions=function(t){return s.extend({},s.parser.parseOptions(t,[]))},s.fn.radio.defaults={url:null,data:{}}}(jQuery),$(function(){$(".easyui-radio").each(function(){var t={},e=$.trim($(this).attr("data-options"));if(e){"{"!==e.substring(0,1)&&(e="{"+e+"}");try{t=new Function("return "+e)()}catch(t){console.info("easyui-radio对象报错了："+e)}$(this).radio(t)}})}),function(u){var f=["textbox","passwordbox","maskedbox","combo","combobox","combotree","combogrid","combotreegrid","tagbox","numberbox","datebox","datetimebox","datetimespinner","calendar","spinner","numberspinner","timespinner","slider","filebox"],c=["datebox","datetimebox","datetimespinner","calendar"];function p(t){return t&&-1===t.indexOf(":")&&(t+="T00:00:00"),t||(t="0001-01-01T00:00:00"),t}function l(t,e,a){if(t.opts.isMustFillStyle&&a.required&&t.opts.editable){var i=null;(i=a.mustFillLabel?u(a.mustFillLabel):t.opts.mustFillSelector.call(e))&&(i.prepend(t.opts.mustFillEle),i.addClass("el-title"),t.opts.mustFillClass&&i.addClass(t.opts.mustFillClass))}}function s(o){o.opts.validateform&&!o.hasClass("easyui-validateform")&&u(o).addClass("easyui-validateform");var r=o.opts.data._Items||o.opts.data;o.opts.columns,o.opts;if(u(o).find(".editlabel-filegridui").each(function(){o.opts.validateform&&o.opts.editable&&u(this).addClass("easyui-validatebox");var t=GetFieldOpts(u(this));t.isShow=!o.opts.editable,t.data||t.url||!t.textfield||(t.data=t.textfield.GetInstanceEx(r)),!o.opts.editable&&t.required&&(t.required=!1),u(this).filegridui(t),o.opts.editable&&l(o,u(this),t)}),o.opts.editable){function i(){var t=null,e=null;u(this).is(".combobox-f")?(t=u(this).combobox("getValues").join(","),e=u.data(u(this),"valfield")):u(this).is(".datebox-f")?((t=u(this).datebox("getValue"))&&-1===t.indexOf(":")&&(t+="T00:00:00"),t||(t="0001-01-01T00:00:00")):t=u(this).is(".textbox-f")?u(this).textbox("getValue"):u(this).is(":input")||u(this).is("select")?u(this).val():u(this).text();var a=GetFieldOpts(u(this));a&&a.getVal?a.getVal.call(this,o.opts.data,t):a.textfield.indexOf(".")<0&&a.textfield.indexOf("[")<0&&(o.opts.data[a.textfield]=t,a.valfield&&(o.opts.data[a.valfield]=e))}function n(t,e){var a=t.attr("valname"),i=t.attr("placeholder"),s=t.attr("data-options"),n=t.attr("data-opts"),o=t.attr("optionsdata");a&&e.attr("valname",a),i&&e.attr("placeholder",i),s&&e.attr("data-options",s),n&&e.attr("data-opts",n),o&&e.attr("optionsdata",o);var r=GetFieldOpts(t);if(r.editorid)e.attr("id",r.editorid);else{var l=t.attr("id");l&&e.attr("id",l+"_editor")}return r.class&&e.addClass(r.class),r}function s(t,e){t.getVal?t.valfield?t.getVal.call(this,o.opts.data,e,o.data("valfield_"+t.valfield)):t.getVal.call(this,o.opts.data,e):(o.opts.data[t.textfield]=e,t.valfield&&(o.opts.data[t.valfield]=o.data("valfield_"+t.valfield)))}var t=u(o).find("[class*=editlabel-]");u(t).each(function(t,e){var a=_getEditClass(e);if(-1<u.inArray(a,f)){var i=u('<input type="text" class="'+("easyui-"+a)+'" required style="width: 100%; margin-right: 5px; display: inline" />'),s=n(u(this),i);o.opts.validateform&&i.addClass("easyui-validatebox"),u(e).hide(),u(e).after(i),i[a](s),l(o,i,s)}}),u(o).find(".editlabel-input").each(function(){var t=u('<input type="text" class="easyui-textbox easyui-validatebox" required style="width: 100%; margin-right: 5px; display: inline" />'),e=n(u(this),t);o.opts.validateform&&t.addClass("easyui-validatebox"),u(this).hide(),u(this).after(t),t.textbox(e),t.validatebox(),u("input",t.next("span")).keyup(function(){var t=u(this).val();s(e,t)}),l(o,t,e)}),u(o).find(".editlabel-input-native").each(function(){var t=u('<input type="text" class="form-control" style="width: 100%; margin-right: 5px; display: inline" />'),e=n(u(this),t);o.opts.validateform&&t.addClass("easyui-validatebox"),t.validatebox(),t.bind("keyup",i),t.bind("change",i),u(this).after(t),l(o,t,e)}),u(o).find(".editlabel-password").each(function(){var t=u('<input type="password" class="easyui-textbox easyui-validatebox" required style="width: 100%; margin-right: 5px; display: inline" />'),e=n(u(this),t);o.opts.validateform&&t.addClass("easyui-validatebox"),t.validatebox(),t.bind("keyup",i),t.bind("change",i),u(this).hide(),u(this).after(t),t.textbox(e,{width:e.width?e.width:"99.5%"}),t.validatebox(),u("input",t.next("span")).keyup(function(){var t=u(this).val();s(e,t)}),l(o,t,e)}),u(o).find(".editlabel-input-btntext").each(function(){var t=u('<input type="text" class="easyui-textbox" required style="width: 100%; margin-right: 5px; display: inline" />'),a=n(u(this),t);o.opts.validateform&&t.addClass("easyui-validatebox"),t.validatebox({editable:!0}),t.bind("keyup",i),t.bind("change",i),u(this).hide(),u(this).after(t);t.textbox(u.extend(a,{width:a.width?a.width:"99.5%",onChange:function(t,e){s(a,t)}}));a.valfield&&o.data("valfield_"+a.valfield,a.valfield.GetInstanceEx(r)),l(o,t,a)}),u(o).find(".editlabel-textarea").each(function(){var t=u('<textarea class="form-control" style="width: 100%; height: 60px"></textarea>'),e=n(u(this),t);o.opts.validateform&&t.addClass("easyui-validatebox"),t.validatebox(),t.bind("keyup",i),t.bind("change",i),u(this).after(t),l(o,t,e)}),u(o).find(".editlabel-select").each(function(){var t=u('<select class="easyui-combobox"></select>'),a=n(u(this),t);o.opts.validateform&&t.addClass("easyui-validatebox"),t.validatebox(),u(this).hide(),u(this).after(t),t.combobox(u.extend(a,{width:a.width?a.width:"99.5%",onChange:function(t,e){s(a,t)},firstoption:{id:"",text:"===请选择==="}})),l(o,t,a)}),u(o).find(".editlabel-select-native").each(function(){var t=u('<select class="form-control"><option value="0" >===请选择===</option></select>'),e=n(u(this),t);o.opts.validateform&&t.addClass("easyui-validatebox"),t.validatebox(),t.bind("keyup",i),t.bind("change",i),u(this).hide(),u(this).after(t),l(o,t,e)}),o.opts.optionsdatasou&&u(o).bindOptionDataByName(o.opts.optionsdatasou,"optionsdata"),u(o).bindViewValByAtr(r,"valname",o.opts.optionsdatasou,"optionsdata"),u(o).find(".editlabel-checkbox").each(function(){var t=u('<div class="easyui-checkbox"></div>'),e=n(u(this),t);o.opts.validateform&&t.addClass("easyui-validatebox"),t.validatebox();var a=e.data;!e.data&&o.opts.optionsdatasou&&e.optionsdata&&(a=e.optionsdata.GetInstanceEx(o.opts.optionsdatasou));var i=null;e.textfield&&(i=e.textfield.GetInstanceEx(r)),appendCheckboxOrRadio(t,"checkbox",e,a,i,r),u(this).hide(),u(this).after(t),l(o,t,e)}),u(o).find(".editlabel-radio").each(function(){var t=u('<div class="easyui-radio"></div>'),e=n(u(this),t);o.opts.validateform&&t.addClass("easyui-validatebox"),t.validatebox();var a=e.data;!e.data&&o.opts.optionsdatasou&&e.optionsdata&&(a=e.optionsdata.GetInstanceEx(o.opts.optionsdatasou));var i=null;e.textfield&&(i=e.textfield.GetInstanceEx(r)),appendCheckboxOrRadio(t,"radio",e,a,i,r),u(this).hide(),u(this).after(t),l(o,t,e)}),u(o).find(".editlabel-custom").each(function(){var t=u(this).attr("valname"),e=(u(this).attr("placeholder"),u(this).attr("data-options"),u(this).attr("custom-selector")),a=u(e);a.show();var i=a.attr("data-opts").GetInstance();function s(){if(a.attr("data-opts")){var t=a.attr("data-opts").GetInstance();t.getVal&&t.getVal.call(this,o.opts.data)}}i.formatter&&i.formatter.call(this,t.GetInstanceEx(o.opts.data),a),i.editelearr&&i.editelearr.length&&u(i.editelearr).each(function(t,e){a.find(e).bind("keyup",s),a.find(e).bind("change",s)}),u(this).hide()}),o.opts.validateform&&o.opts.validateformopts&&u(o).validateform(o.opts.validateformopts),u(o.opts.confirmbtn).unbind(),u(o.opts.confirmbtn).click(function(){if(o.opts.validateform){if(!u(o).validateform("validateform",[1]))return;var t=!0;if(u(o).find(".editlabel-filegridui").each(function(){t&&(!u(this).filegridui("options").isvalid||u(this).filegridui("isValid")||(t=!1))}),!t)return}var e=o.editlabel("getData");o.opts.onConfirm&&o.opts.onConfirm.call(this,e)})}else{u(o).bindViewValByAtr(r,"valname",o.opts.optionsdatasou,"optionsdata");t=u(o).find("[class*=editlabel-]");u(t).each(function(t,e){u(e).show();var a=GetFieldOpts(u(e));u(e).css("word-break","break-all");var i=a.textfield.GetInstanceEx(r),s=_getEditClass(e);if(-1<u.inArray(s,c)&&(i=new Date(p(i))),a.formatter){var n=a.formatter.call(this,i,r,a,u(this));"string"==typeof n?u(e).html(n):(u(e).html(""),u(e).append(n))}l(o,u(e),a)}),u(o).find(".editlabel-custom").each(function(){var t=u(this).attr("custom-selector");u(t).hide(),u(this).show()}),u(o.opts.confirmbtn).hide()}o.opts.validateform&&o.validateform(o.opts),o.opts.onLoadSuccess&&o.opts.onLoadSuccess.call(this,r,o,o.opts.editable)}u.fn.editlabel=function(e,t){if("string"==typeof e){var a=u.fn.editlabel.methods[e];if(a)return a(this,t)}e=e||{};var i=this;return i.opts=u.extend({},u.fn.editlabel.defaults,e),this.each(function(){u.data(this,"editlabel");u.ajaxSettings.async=!1,i.opts.url&&u.getJSON(i.opts.url,function(t){e.data=i.opts.data=t}),u.ajaxSettings.async=!0,i.opts.editablecol&&(!i.opts.data[i.opts.editablecol]&&i.opts.editable?i.opts.editable=!0:i.opts.editable=!1),u.data(this,"editlabel",{options:u.extend({},u.fn.editlabel.defaults,u.fn.editlabel.parseOptions(this),e),initobj:s(i)})})},u.fn.editlabel.methods={options:function(t){return u.data(t[0],"editlabel").options},getData:function(l){var t=void 0,d=u.data(l[0],"editlabel");if(d&&d.options){var e=_getEditors(l);u(e).each(function(t,e){var a=u(e),i=u(e).val(),s=_getEditClass(e,"easyui-"),n=GetFieldOpts(a);if(a.attr("readonly")&&(i=a.val()),-1<u.inArray(s,f)&&(i=u(e)[s]("getValue"),-1<u.inArray(s,c)&&(i=p(i))),"checkbox"==s){i=n.retIsArr?[]:"";var o=n.space||",",r=u(e).find("input:checkbox:checked");u.each(r,function(t,e){if(n.retIsArr){var a=u(this).data("checkorradiodata");i.push(a||u(this).val())}else i+=u(this).val()+(r.length==t+1?"":o)})}"radio"==s&&(i=u(e).find("input[name="+n.textfield+"]:checked").val()),"numberbox"!=s||i||(i=0),"filegridui"==s&&(i=u(e).filegridui("getData")),"string"==typeof i&&(i=u.trim(i)),n&&n.getVal?n.valfield?n.getVal.call(this,d.options.data,i,l.data("valfield_"+n.valfield)):n.getVal.call(this,d.options.data,i):n.textfield.indexOf(".")<0&&n.textfield.indexOf("[")<0&&(d.options.data[n.textfield]=i,n.valfield&&(d.options.data[n.valfield]=l.data("valfield_"+n.valfield)))}),t=d.options.data,d.options.onGetDataEnd&&d.options.onGetDataEnd.call(this,t)}return t},getEditors:_getEditors,getEditor:function(t,n){var o=void 0,e=u(t).find("[class*=editlabel-]");return u(e).each(function(t,e){var a=GetFieldOpts(u(e)).textfield,i=u(e).next();(!i||i.length<1)&&(i=u(e));var s=GetFieldOpts(i).textfield;if(i&&0<i.length&&a===s){if(void 0===n)return o=i[0],!1;if("object"==typeof n&&n.editorid&&n.editorid===i.id&&n.valname&&n.valname===s)return o=i[0],!1;if("object"==typeof n&&n.editorid&&n.editorid===i.id&&!n.valname)return o=i[0],!1;if("object"==typeof n&&n.valname&&n.valname===s&&!n.editorid)return o=i[0],!1;if("string"==typeof n&&n===s)return o=i[0],!1}}),o},removeMustfill:function(t,e){var a=u.data(t[0],"editlabel");if("string"==typeof e&&(e.editorfield=e),a){var i=a.options,s=u(t[0]).editlabel("getEditor",e.editorfield);_getEditClass(s,"easyui-");e.stage&&(i.stage=e.stage),i.mustFillSelector.call(s).find(".el-title-mustfill").remove(),u(s).validatebox({stage:e.stage})}},appendMustfill:function(t,e){var a=u.data(t[0],"editlabel");if("string"==typeof e&&(e.editorfield=e),a){var i=a.options,s=u(t[0]).editlabel("getEditor",e.editorfield);_getEditClass(s,"easyui-");e.stage&&(i.stage=e.stage);var n=i.mustFillSelector.call(s);n.prepend(u(i.mustFillEle)),n.addClass("el-title"),i.mustFillClass&&n.addClass(i.mustFillClass),u(s).validatebox({stage:e.stage})}},reload:function(t,e){var a=u.data(t[0],"editlabel").options;return a=u.extend(a,e),t.opts=a,t.each(function(){u.data(this,"editlabel",{options:a,initobj:s(t)})})}},u.fn.editlabel.parseOptions=function(t){return u.extend({},u.parser.parseOptions(t,[]))},u.fn.editlabel.defaults={url:null,data:{},confirmbtn:null,editable:!1,editablecol:null,validateform:!0,OpState:null,optionsdatasou:null,isMustFillStyle:!1,mustFillEle:'<span class="el-title-mustfill">*</span>',mustFillClass:null,mustFillSelector:function(){return u(this).parent().prev()},onLoadSuccess:function(t,e,a){},onGetDataEnd:function(t){}}}(jQuery),$(function(){$(".easyui-editlabel").each(function(){var t={},e=$.trim($(this).attr("data-options"));e&&("{"!==e.substring(0,1)&&(e="{"+e+"}"),t=new Function("return "+e)(),$(this).editlabel(t))})}),function(c){function r(){var t=c(this).data("CurData");function e(t){c(t).validatebox("enableValidation").validatebox("isValid")}-1<c.inArray(t.vbopts.stage,t.otherstages)?e(this):c(this).val()&&"0"!==c(this).val()?e(this):c(this).validatebox({novalidate:!0})}function p(t,e,a,i){if(t.hasClass("easyui-textbox")||t.hasClass("easyui-numberbox"))(n=c("input",t.next("span")))&&0<n.length&&(c(n[0]).data("CurData",{otherstages:e.stages,vbopts:a}),i?(r.call(c(n[0])),c(n[0]).focus()):c(n[0]).bind("blur",r));else if(t.hasClass("easyui-combobox")){var s=t.next("span"),n=c("input",t.next("span"));if(-1<c.inArray(a.stage,e.stages)){var o=t.combobox("getValue");o&&"全部"!=o?s.removeClass("textbox-invalid"):i&&(s.addClass("textbox-invalid"),c(n[0]).focus())}}else t.data("CurData",{otherstages:e.stages,vbopts:a}),i?(r.call(t),t.focus()):t.blur(r)}function n(t){var e=!1,a=t.opts;if(!a.novalidate){var i=c(t).find(".easyui-validatebox");if(i&&0<i.length)for(var s=0;s<i.length;s++){var n=c(i[s]),o=n.validatebox("options");if(a.isLableValid){if(n.is("label,span,div")){if((e=!!n.text())&&o.regExpre&&!(e=new RegExp(o.regExpre,"i").test(n.text())))return messageralert(o,a),e;if(!e)return messageralert(o,a),e}}else{if(n.is(":hidden")&&!(-1<c(n).attr("class").indexOf("easyui-"))&&!a.isHiddenValid)return e=!0;if(n.hasClass("easyui-datebox")){var r=n.next().find(".textbox-value").each(function(){r=n});n.val(r.val());var l=n.next().find(".textbox-text").each(function(){l=n});if(l.val(r.val()),-1<c.inArray(o.stage,a.stages)||l.val()){if(p(l,a,o),!(e=l.validatebox("enableValidation").validatebox("isValid"))){var d=l;return a.alertpagejquery.messager.alert("提示信息",o.invalidMessage||o.missingMessage,"info",function(){p(d,a,o,!0)}),e}}else n.validatebox("disableValidation")}if(n.hasClass("easyui-combobox")){n.next().find(".textbox-value").each(function(){r=n}).val(),n.next().find(".textbox-text").each(function(){l=n}).val();if(-1<c.inArray(o.stage,a.stages)){var u=n.combobox("getValue");if(!(e=!(!u||"全部"==u))){d=n;return a.alertpagejquery.messager.alert("提示信息",o.invalidMessage||o.missingMessage,"info",function(){p(d,a,o,!0)}),e}}else n.validatebox("disableValidation")}if(n.hasClass("easyui-checkbox")){var f="";if(c.each(n.find("input:checkbox:checked"),function(){f+=n.val()+","}),-1<c.inArray(o.stage,a.stages)){if(!(e=!!f))return messageralert(o,a),e}else n.validatebox("disableValidation")}if(n.hasClass("easyui-radio")){f=n.find("input:checked").val();if(-1<c.inArray(o.stage,a.stages)){if(!(e=!!f)){d=n;return a.alertpagejquery.messager.alert("提示信息",o.invalidMessage||o.missingMessage,"info",function(){p(d,a,o,!0)}),e}}else n.validatebox("disableValidation")}if(n.hasClass("easyui-filegridui"))if(-1<c.inArray(o.stage,a.stages))if(!(e=n.filegridui("isValid",{stage:o.stage,stages:a.stages,alertpagejquery:a.alertpagejquery})))return e;if(n.is("label,span,div")){if(!n.hasClass("easyui-filegridui")&&!n.hasClass("easyui-radio")&&!n.hasClass("easyui-checkbox")){if((e=!!n.text())&&o.regExpre&&!(e=new RegExp(o.regExpre,"i").test(n.text())))return messageralert(o,a),e;if(!e&&!n.is(":hidden"))return messageralert(o,a),e}}else if(-1<c.inArray(o.stage,a.stages)){if(!(e=n.validatebox("enableValidation").validatebox("isValid"))){d=n;return a.alertpagejquery.messager.alert("提示信息",o.invalidMessage||o.missingMessage,"info",function(){p(d,a,o,!0)}),e}}else if(n.val()&&"0"!==n.val()){if(!(e=n.validatebox("enableValidation").validatebox("isValid")))return messageralert(o,a),e}else n.validatebox("disableValidation")}}}return e}c.fn.validateform=function(t,e){if("string"==typeof t){var a=c.fn.validateform.methods[t];if(a)return a(this,e)}t=t||{};var i=this;return i.opts=c.extend({},c.fn.validateform.defaults,t),this.each(function(){c.data(this,"validateform");c.data(this,"validateform",{options:c.extend({},c.fn.validateform.defaults,c.fn.validateform.parseOptions(this),t),initobj:function(t){c(t).addClass("easyui-validateform");var i=t.opts;i&&c(t).find(".easyui-validatebox").each(function(){c(this).validatebox();var t=c(this).validatebox("options");if(c(this).hasClass("easyui-datebox")){var e=c(this).next().find(".textbox-value").each(function(){e=c(this)});c(this).val(e.val());var a=c(this).next().find(".textbox-text").each(function(){a=c(this)});a.val(e.val()),a.blur(function(){c(this).val(c(this).next().val()),-1<c.inArray(t.stage,i.stages)||c(this).val()?c(this).validatebox("enableValidation").validatebox("validate"):c(this).validatebox("disableValidation")})}else p(c(this),i,t);t.stage||(t.stage=1),c(this).validatebox(t)})}(i)})})},c.fn.validateform.methods={options:function(t){return c.data(t[0],"validateform").options},validateform:function(t,e){var a=[],i=c;e.constructor==Array?a=e:(a=e.stages,i=e.alertpagejquery);var s=c.data(t[0],"validateform").options;return a&&0<a.length&&(s.stages=a),i&&(s.alertpagejquery=i),t.opts=s,n(t)},validateformlable:function(t,e){var a=[],i=c;e.constructor==Array?a=e:(a=e.stages,i=e.alertpagejquery);var s=c.data(t[0],"validateform").options;return a&&0<a.length&&(s.stages=a),i&&(s.alertpagejquery=i),s.isLableValid=!0,t.opts=s,n(t)}},c.fn.validateform.parseOptions=function(t){return c.extend({},c.parser.parseOptions(t,[]))},c.fn.validateform.defaults={stages:[1],isAlert:!0,novalidate:!1,isLableValid:!1,isHiddenValid:!1,alertpagejquery:c}}(jQuery),$(function(){$(".easyui-validateform").each(function(){var t={},e=$.trim($(this).attr("data-options"));e&&("{"!=e.substring(0,1)&&(e="{"+e+"}"),t=new Function("return "+e)(),$(this).validateform(t))}),void 0!==$.fn.validatebox&&$.extend($.fn.validatebox.defaults.rules,{choice:{validator:function(t,e){var a=!1;return t&&"0"!=t&&(a=!0),a},message:"此为必选项！"},minLength:{validator:function(t,e){return t.length>=e[0]},message:"最少输入 {0} 个字符"},maxLength:{validator:function(t,e){return t.length<=e[0]},message:"最多输入 {0} 个字符"},maxLengthJoin:{validator:function(t,e){return t.length<=e[0]},message:"最多输入 {0} 个字符"},phone:{validator:function(t){return/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/i.test(t)},message:"格式不正确,请使用下面格式:028-88888888"},mobile:{validator:function(t){return/^(13|15|18|17)\d{9}$/i.test(t)},message:"手机号码格式不正确"},telNumber:{validator:function(t){return/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/.test(t)||/^(\d{7,8})(-(\d{3,}))?$/.test(t)},message:"电话号码格式不正确"},phoneAndMobile:{validator:function(t){return t=$.trim(t),/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/i.test(t)||/^(13|15|18|11|17|12|14|16|19)\d{9}$/i.test(t)},message:"电话号码或手机号码格式不正确"},idcard:{validator:function(t,e){switch(t=$.trim(t),$(e[0]).combobox("getValue")){case"大陆身份证":return/^\d{15}(\d{2}[A-Za-z0-9])?$/i.test(t)||/^\d{18}(\d{2}[A-Za-z0-9])?$/i.test(t);case"香港身份证":return/^[HMhm]{1}([0-9]{10}|[0-9]{8})$/i.test(t);case"护照":return/^[a-zA-Z]{5,17}$/i.test(t);case"军官证":return/南字第(\d{8})号|北字第(\d{8})号|沈字第(\d{8})号|兰字第(\d{8})号|成字第(\d{8})号|济字第(\d{8})号|广字第(\d{8})号|海字第(\d{8})号|空字第(\d{8})号|参字第(\d{8})号|政字第(\d{8})号|后字第(\d{8})号|装字第(\d{8})号/i.test(t);case"澳门身份证":return/^[HMhm]{1}([0-9]{10}|[0-9]{8})$/i.test(t);case"台湾身份证":return/^[0-9]{8}$/i.test(t)||/^[0-9]{10}$/i.test(t)}},message:"身份证号码格式不正确"},idcarddalu:{validator:function(t){return t=$.trim(t),/^\d{15}(\d{2}[A-Za-z0-9])?$/i.test(t)||/^\d{18}(\d{2}[A-Za-z0-9])?$/i.test(t)},message:"身份证号码格式不正确"},nonumber:{validator:function(t){return!/^\d+$/i.test(t)},message:"不允许输入数字"},number:{validator:function(t){return/^\d+$/i.test(t)},message:"请输入数字"},numberletter:{validator:function(t){return/^[A-Za-z0-9]+$/i.test(t)},message:"请输入字母或数字"},numberletterhyphen:{validator:function(t){return/^[A-Za-z0-9/-]+$/i.test(t)},message:'请输入字母或数字或"-"'},noeqzero:{validator:function(t){return 0!=parseFloat(t)},message:"请输入非零数字"},gtzero:{validator:function(t){return 0<parseFloat(t)},message:"请输入大于零的数字"},gtelzero:{validator:function(t){return 0<=parseFloat(t)},message:"请输入大于等于零的数字"},intOrFloat:{validator:function(t){return/^\d+(\.\d+)?$/i.test(t)},message:"请输入数字，并确保格式正确"},currencyNum:{validator:function(t){return/^[0-9]+([.]{1}[0-9]+){0,1}$/i.test(t)},message:"输入格式不正确"},currency:{validator:function(t){return/^\d+(\.\d+)?$/i.test(t)},message:"货币格式不正确"},ltInNum:{validator:function(t,e){return parseFloat(t)<=parseFloat($(e[0]).val())},message:"此数字必须小于等于立项金额！"},JJQltInNum:{validator:function(t,e){return parseFloat(t)>=parseFloat($(e[0]).val())},message:"此数字必须大于等于送审金额！"},datetimeltInEndtime:{validator:function(t,e){return!$(e[0]).val()||new Date(t)>=new Date($(e[0]).val())},message:"结束日期不能小于开始日期！"},datetimeltInStarttime:{validator:function(t,e){var a=$(e[0]).val();return!a||new Date(t)<=new Date(a)},message:"开始日期不能大于结束日期！"},JSltInNum:{validator:function(t,e){return parseFloat(t)<=parseFloat(e)},message:"此分值应不能超过限额！"},equals:{validator:function(t,e){for(var a=0;a<e.length;a++)if(t==$(e[a]).val())return!1;return!0},message:"不能含有相同经营品牌"},LSLBltInNum:{validator:function(t,e){return parseFloat(t)<=1.1*parseFloat($(e[0]).val())},message:"不能超过资金下达金额的10%！"},gtInNum:{validator:function(t,e){return parseFloat(t)>=parseFloat($(e[0]).val())},message:"此数字必须大于等于前者！"},qq:{validator:function(t){return/^[1-9]\d{4,9}$/i.test(t)},message:"QQ号码格式不正确"},integer:{validator:function(t){return/^[+]?[1-9]+\d*$/i.test(t)},message:"请输入正整数"},integerOrZero:{validator:function(t){return/^[+]?[0-9]+\d*$/i.test(t)},message:"请输入0或正整数"},chinese:{validator:function(t){return/^[\u0391-\uFFE5]+$/i.test(t)},message:"请输入中文"},chineseAndLength:{validator:function(t){var e=$.trim(t).length;if(e>=param[0]&&e<=param[1])return/^[\u0391-\uFFE5]+$/i.test(t)},message:"请输入中文"},english:{validator:function(t){return/^[A-Za-z]+$/i.test(t)},message:"请输入英文"},englishAndLength:{validator:function(t,e){var a=$.trim(t).length;if(a>=e[0]&&a<=e[1])return/^[A-Za-z]+$/i.test(t)},message:"请输入英文"},englishUpperCase:{validator:function(t){return/^[A-Z]+$/.test(t)},message:"请输入大写英文"},Email:{validator:function(t){var e=/^[a-z\d]+(\.[a-z\d]+)*@([\da-z](-[\da-z])?)+(\.{1,2}[a-z]+)+$/.test(t),a=new String(t.split("@")[1]),i=a.indexOf("."),s=a.length,n=new String(a).substring(i,s);return".com|.com.cn|.net|.cn".indexOf(n)<0&&(e=!1),e},message:"电子邮箱格式不正确"},gtMinDate:{validator:function(t){new Date(t);return new Date(t)>new Date("1900-01-01")},message:"请选择大于最小日期"},md:{validator:function(t,e){var a=$.fn.datebox.defaults.parser(e[0]);return $.fn.datebox.defaults.parser(t)<=a},message:"The date must be less than or equals to {0}."},unnormal:{validator:function(t){return/.+/i.test(t)},message:"输入值不能为空和包含其他非法字符"},username:{validator:function(t){return/^[a-zA-Z][a-zA-Z0-9_]{3,12}$/i.test(t)},message:"用户名不合法（字母开头，允许4-12字节，允许字母数字下划线）"},usernameEx:{validator:function(t){return/^[a-zA-Z][a-zA-Z0-9_]{3,11}$/i.test(t)},message:"用户名不合法（字母开头，允许4-12字节，允许字母数字下划线）"},usernameLoginID:{validator:function(t){return/^[a-zA-Z][a-zA-Z0-9_]{3,11}$/i.test(t)},message:"登录名不合法（字母开头，允许4-12字节，允许字母数字下划线）"},LoginID:{validator:function(t){return/^[a-zA-Z][a-zA-Z0-9]{5,17}$/i.test(t)},message:"登录名为6~18位数字或字母组合"},LoginName:{validator:function(t){return/^[a-zA-Z][a-zA-Z0-9]{3,11}$/i.test(t)},message:"登录名格式不正确！"},LoginNameEx:{validator:function(t){return/^[\u4E00-\u9FA5\w-a-zA-Z0-9_]{2,14}$/i.test(t)},message:"登录名格式不正确！"},password:{validator:function(t){return!!/^[\w\u4e00-\u9fa5]+$/gi.test(t)&&/^[a-zA-Z0-9]{4,14}$/i.test(t)},message:"密码格式不正确！"},password1:{validator:function(t){return/^[a-zA-Z][a-zA-Z0-9]{3,15}$/i.test(t)},message:"密码为4~16位数字或字母组合"},faxno:{validator:function(t){return/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/i.test(t)},message:"传真号码不正确"},zip:{validator:function(t){return/^[0-9]\d{5}$/i.test(t)},message:"邮政编码格式不正确"},ip:{validator:function(t){return/(?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))/.test(t)},message:"IP地址格式不正确"},name:{validator:function(t){return/^[\u0391-\uFFE5]+$/i.test(t)|/^\w+[\w\s]+\w+$/i.test(t)},message:"请输入姓名"},engOrChinese:{validator:function(t){return/^[\u0391-\uFFE5]+$/i.test(t)|/^\w+[\w\s]+\w+$/i.test(t)},message:"请输入中文"},engOrChineseAndLength:{validator:function(t){var e=$.trim(t).length;if(e>=param[0]&&e<=param[1])return/^[\u0391-\uFFE5]+$/i.test(t)|/^\w+[\w\s]+\w+$/i.test(t)},message:"请输入中文或英文"},carNo:{validator:function(t){return/^[\u4E00-\u9FA5][\da-zA-Z]{6}$/.test(t)},message:"车牌号码无效（例：川B12350）"},carenergin:{validator:function(t){return/^[a-zA-Z0-9]{16}$/.test(t)},message:"发动机型号无效(例：FG6H012345654584)"},same:{validator:function(t,e){var a=$(e[0]).val()||$(e[0]).textbox("getValue");return!a||!t||a==t},message:"两次输入的密码不一致!"},selectValueRequired:{validator:function(t,e){return!(""==t||0<=t.indexOf("请选择"))||($(this).trigger("focus"),!1)},message:"该下拉框为必选项"},OrganCode:{validator:function(t,e){if("/"==t)return!0;for(var a=[3,7,9,10,5,8,4,2],i=0,s=0;s<8;s++)i+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(t.charAt(s))*a[s];var n=11-i%11;return n=10==n?"X":n,!!/^([0-9A-Z]){8}-[0-9a-zA-Z|X|*]$/.test(t)||!(!/^([0-9A-Z]){8}-[0-9|X]$/.test(t)||n==t.charAt(9))},message:"企业代码不正确，请输入正确的企业代码"},OrganCodeEx:{validator:function(t,e){for(var a=[3,7,9,10,5,8,4,2],i=/^([0-9A-Z]){8}-[0-9|X]$/,s=0,n=0;n<8;n++)s+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(t.charAt(n))*a[n];var o=11-s%11;if(o=10==o?"X":o,/^([0-9A-Z]){8}-[0-9a-zA-Z|X|*]$/.test(t))return!0;if(i.test(t)&&o!=t.charAt(9))return!0;var r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","T","U","W","X","Y","0"],l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],d=[1,3,9,27,19,26,16,17,20,29,25,13,8,24,10,30,28];i=/^[0-9ABCDEFGY][1239]\d{6}([0-9ABCDEFGHJKLMNPQRTUWXY]{9})([0-9A-Z])$/;if(0!=t.length){if(i.test(t)){if({11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[t.substr(2,2)]){t=t.split("");for(s=0,n=0;n<17;n++)s+=l[r.indexOf(t[n])]*d[n];return r[31-s%31]==t[17]}return!1}return!1}},message:"企业代码不正确，请输入正确的企业代码"},SocityOrganCode:{validator:function(t,e){if("/"==t)return!0;if(/^([0-9A-Z]){18}$/.test(t))return!0;var a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","T","U","W","X","Y","0"],i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],s=[1,3,9,27,19,26,16,17,20,29,25,13,8,24,10,30,28];if(0!=t.length){if(/^[0-9ABCDEFGY][1239]\d{6}([0-9ABCDEFGHJKLMNPQRTUWXY]{9})([0-9A-Z])$/.test(t)){if({11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[t.substr(2,2)]){t=t.split("");for(var n=0,o=0;o<17;o++)n+=i[a.indexOf(t[o])]*s[o];return a[31-n%31]==t[17]}return!1}return!1}},message:"社会信用代码不正确，请输入正确的代码"},ProjectCode:{validator:function(t,e){return!!(e[0]||"^S+〔S+〕S+号$").test(t)},message:"请将立项文号填写完整!"},exceptChar:{validator:function(t,e){for(var a=0;a<e.length;a++)if(0<=t.indexOf(e[a]))return $.fn.validatebox.defaults.rules.exceptChar.message="输入不正确，请不要包含 "+e.join(" ")+" 字符",!1;return!0},message:""}})});
//# sourceMappingURL=jquery.easyuiex.min.js.map